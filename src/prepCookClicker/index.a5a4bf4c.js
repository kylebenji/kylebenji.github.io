!function(e,t,n,o,s){var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r="function"==typeof a[o]&&a[o],c=r.cache||{},i="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function u(t,n){if(!c[t]){if(!e[t]){var s="function"==typeof a[o]&&a[o];if(!n&&s)return s(t,!0);if(r)return r(t,!0);if(i&&"string"==typeof t)return i(t);var l=new Error("Cannot find module '"+t+"'");throw l.code="MODULE_NOT_FOUND",l}p.resolve=function(n){var o=e[t][1][n];return null!=o?o:n},p.cache={};var d=c[t]=new u.Module(t);e[t][0].call(d.exports,p,d,d.exports,this)}return c[t].exports;function p(e){var t=p.resolve(e);return!1===t?{}:u(t)}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=c,u.parent=r,u.register=function(t,n){e[t]=[function(e,t){t.exports=n},{}]},Object.defineProperty(u,"root",{get:function(){return a[o]}}),a[o]=u;for(var l=0;l<t.length;l++)u(t[l]);if(n){var d=u(n);"object"==typeof exports&&"undefined"!=typeof module?module.exports=d:"function"==typeof define&&define.amd&&define((function(){return d}))}}({fIf54:[function(e,t,n){var o=e("@parcel/transformer-js/src/esmodule-helpers.js"),s=(e("./helpers.js"),e("./model.js")),a=e("./views/statsView.js"),r=o.interopDefault(a),c=e("./views/upgradePaneView.js"),i=o.interopDefault(c);const u=function(){s.addOnions(s.stats.clickStr),r.default.updateOnions(s.stats),s.click(),r.default.updateTotClicks(s.stats)},l=function(e){s.stats.onions-=e,r.default.updateOnions(s.stats)},d=function(e,t){t||(t=document.querySelector(`#${e}`)),e=s.state.clickUpgObj[e],s.stats.onions>=e.cost&&(l(e.cost),s.stats.clickStr+=e.clickIncrease,i.default.updateCostCount(e,t),r.default.updatePerClick(s.stats))},p=function(e,t){t||(t=document.querySelector(`#${e}`)),e=s.state.autoclickObj[e],s.stats.onions>=e.cost&&(l(e.cost),s.stats.onionsPerSec+=e.perSecIncrease,i.default.updateCostCount(e,t),r.default.updatePerSecond(s.stats))},f=function(e,t){t||(t=document.querySelector(`#${e}`)),e=s.state.autoclickUpObj[e],s.stats.onions>=e.cost&&(l(e.cost),i.default.updateCostCount(e,t),s.state.autoclickObj[e.upgrades].perSecIncrease+=e.increase,function(){let e=0;for(const[t,n]of Object.entries(s.state.autoclickObj))e+=n.count*n.perSecIncrease;console.log(e),s.stats.onionsPerSec=e,r.default.updatePerSecond(s.stats)}())},g=new Map([["click-strength-upgrade",d],["autoclicker",p],["autoclickUp",f],["manager",function(e,t){if(e=s.state.managersObj[e],s.canAfford(e.cost)&&!e.owned){l(e.cost),e.owned=e.on=!0,t.querySelector("button").style.display="none",t.querySelector(".owned").textContent="Yes";const n=t.querySelector(".toggleOnOff");t.querySelector(".slider").classList.add("slider-on"),n.disabled=!1,n.checked=!0}}]]),h=function(e){let t=e.closest(".upgrade"),n=t.id;g.forEach(((e,o,s)=>{t.classList.contains(o)&&e(n,t)}))},y=function(e){let t=s.state.managersObj[e.closest(".upgrade").id];t.owned&&(t.on=!t.on,e.checked=!!t.on)},k=function(){s.addOnions(s.stats.onionsPerSec),r.default.updateOnions(s.stats)},m=new Map([["clickUpgObj",d],["autoclickObj",p],["autoclickUpObj",f]]),b=function(){for(const[e,t]of Object.entries(s.state.managersObj))if(t.owned&&t.on)for(const e of t.upgrades)for(console.log(t.upgradeType);s.canAfford(s.state[t.upgradeType][e].cost);)m.get(t.upgradeType)(e)};!function(){s.loadLocalStorage();const e=s.calculateOfflineOnions();e&&function(e){alert(`You chopped ${e} onions while offline!`),s.addOnions(e),r.default.updateOnions(s.stats)}(e),i.default.generateAllTabsMarkup(s.state),r.default.updateAll(s.stats);setInterval(s.saveLocalStorage,5e3),setInterval(b,1e3),setInterval(k,1e3);r.default.addHandlerChop(u),i.default.addHandlerBuy(h),i.default.addHandlerToggleManager(y)}()},{"./helpers.js":"vWopX","./model.js":"d2k1B","./views/statsView.js":"4C6dI","./views/upgradePaneView.js":"14CJs","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],vWopX:[function(e,t,n){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(n),o.export(n,"displayNum",(()=>s));const s=function(e){return e>1e3?e/1e3+"k":e}},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],k3151:[function(e,t,n){n.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},n.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.exportAll=function(e,t){return Object.keys(e).forEach((function(n){"default"===n||"__esModule"===n||t.hasOwnProperty(n)||Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[n]}})})),t},n.export=function(e,t,n){Object.defineProperty(e,t,{enumerable:!0,get:n})}},{}],d2k1B:[function(e,t,n){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(n),o.export(n,"stats",(()=>a)),o.export(n,"state",(()=>r)),o.export(n,"saveLocalStorage",(()=>c)),o.export(n,"calculateOfflineOnions",(()=>i)),o.export(n,"loadLocalStorage",(()=>u)),o.export(n,"canAfford",(()=>l)),o.export(n,"addOnions",(()=>d)),o.export(n,"click",(()=>p));var s=e("./data.json");let a={onions:0,totalOnions:0,onionsPerSec:0,clickStr:1,numClicks:0,lastSaveTime:(new Date).getTime()},r=s;const c=function(){a.lastSaveTime=(new Date).getTime(),localStorage.setItem("clickerStats",JSON.stringify(a)),localStorage.setItem("clickerData",JSON.stringify(r))},i=function(){return Math.floor(((new Date).getTime()-a.lastSaveTime)/1e3)*a.onionsPerSec},u=function(){statsLocal=JSON.parse(localStorage.getItem("clickerStats")),statsLocal&&(a=statsLocal),dataLocal=JSON.parse(localStorage.getItem("clickerData")),dataLocal&&(r=dataLocal)},l=function(e){return e<a.onions},d=function(e){a.onions+=e,a.totalOnions+=e},p=function(){a.numClicks+=1}},{"./data.json":"9KtuT","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"9KtuT":[function(e,t,n){t.exports=JSON.parse('{"clickUpgObj":{"paringKnife":{"name":"Paring Knife","description":"Just a lil knife. Increases click strength by 1","count":0,"cost":10,"clickIncrease":1},"chefsKnife":{"name":"Chef\'s Knife","description":"Now we\'re talking! Increase click strength by 5","count":0,"cost":100,"clickIncrease":5},"knifeTraining":{"name":"Train knife skills","description":"Chop faster! Increases click strength by 10","count":0,"cost":500,"clickIncrease":10},"ambidextrous":{"name":"Ambidexterity","description":"Work with both hands! Increases click strength by 25","count":0,"cost":1000,"clickIncrease":25},"armGlaives":{"name":"Full Arm Glaives","description":"Full arm knives like Batman, increases click strength by 100","count":0,"cost":1500,"clickIncrease":100},"headbutting":{"name":"Headbutting","description":"You\'ve figured out how to headbutt onions into a perfect dice! Increases click strength by 250","count":0,"cost":8600,"clickIncrease":250},"ninjaTraining":{"name":"Ninja Training","description":"Take a break to train with ninjas! Increases click strength by 500","count":0,"cost":12000,"clickIncrease":500},"oneWithTheOnion":{"name":"One with the Onion","description":"Become One with the onion, let the knowledge of its layers flow through you. Increases click strength by 1250","count":0,"cost":40000,"clickIncrease":1250},"ogres":{"name":"Ogres","description":"Ogres are like onions. Increases click strength by 5000","count":0,"cost":110000,"clickIncrease":5000}},"autoclickObj":{"busboy":{"name":"Grab Busboy","description":"Grab a busboy from the floor to help you chop. Not very fast, but they\'ve got spirit. +1 chops per second","count":0,"cost":500,"perSecIncrease":1},"newCook":{"name":"Hire another Cook","description":"Hire another prep cook. +10 chops per second","count":0,"cost":5000,"perSecIncrease":10},"autochopper":{"name":"Automated Chopper","description":"Basic autochopper. Loud, but can chop 25 onions a second","count":0,"cost":25000,"perSecIncrease":25},"angryMonkeys":{"name":"Herd of angry monkeys with knives","description":"Not necessarily up to food code, but they have the fervor. Can chop 100 onions per second","count":0,"cost":100000,"perSecIncrease":100},"oldPrepCook":{"name":"One (1) old prep cook","description":"They\'ve been doing this longer than you or your parents have been alive, just get out of the way. Can chop 750 onions per second.","count":0,"cost":500000,"perSecIncrease":750},"deluxeChopper":{"name":"The Deluxe Autochopping system","description":"This top of the line system recently released by Onions Inc. can chop 2500 onions per second, but requires the purchase of an entire building to house it","count":0,"cost":1000000,"perSecIncrease":2500}},"autoclickUpObj":{"busboyHype":{"name":"Hype up your Busboys","description":"Encourage the busboys to chop faster!! Increases busboy chop speed by 1 onion per second","count":0,"cost":4200,"upgrades":"busboy","increase":1},"cookBonus":{"name":"Give Cook a Bonus","description":"Give your cooks a bonus!! Increases cook chop speed by 3 onions per second","count":0,"cost":12500,"upgrades":"newCook","increase":3},"greaseChopper":{"name":"Grease your Autochopper","description":"Maker sure the autochopper is running smoothly!! Increases chop speed by 5 onions per second","count":0,"cost":30000,"upgrades":"autochopper","increase":5}},"managersObj":{"knifeSharpener":{"name":"Knife Sharpener","description":"Sharpen your knives regularly! Automatically purchases the Paring knife and Chef\'s Knife upgrades","owned":false,"on":false,"cost":10000,"upgrades":["paringKnife","chefsKnife"],"upgradeType":"clickUpgObj"},"FOHTrainer":{"name":"Front of House Trainer","description":"Trains Front of House to use knives! Automatically purchases the \'Grab Busboy\' autoclicker","owned":false,"on":false,"cost":25000,"upgrades":["busboy"],"upgradeType":"autoclickObj"},"trainer":{"name":"Knife Arts Trainer","description":"Helps you hone your skills! Automatically purchases the Ambidexterity and Train Knife Skills upgrades","owned":false,"on":false,"cost":65000,"upgrades":["ambidextrous","knifeTraining"],"upgradeType":"clickUpgObj"},"martialtrainer":{"name":"Martial Arts Trainer","description":"Helps with your martial skills! Automatically purchases the Arm Glaives, Headbutting, and Ninja training upgrades","owned":false,"on":false,"cost":86000,"upgrades":["armGlaives","headbutting","ninjaTraining"],"upgradeType":"clickUpgObj"},"mechanic":{"name":"Mechanic","description":"Helps you maintain your machines! Automatically purchases the Automated Chopper upgrade","owned":false,"on":false,"cost":100000,"upgrades":["autochopper"],"upgradeType":"autoclickObj"},"monkeyWrangler":{"name":"Monkey Wrangler","description":"helps wrangle your monkeys so they stop attacking passerby! Automatically purchases the Herd of Angry Monkeys with Knives autoclicker","owned":false,"on":false,"cost":250000,"upgrades":["angryMonkeys"],"upgradeType":"autoclickObj"}}}')},{}],"4C6dI":[function(e,t,n){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(n);n.default=new class{#e=document.querySelector("#onion-per-click");#t=document.querySelector("#auto-onion-per-second");#n=document.querySelector("#total-onions");#o=document.querySelector("#total-clicks");#s=document.querySelector("#count");#a=document.querySelector("#onions");updatePerClick=function(e){this.#e.textContent=e.clickStr};updatePerSecond=function(e){this.#t.textContent=e.onionsPerSec};updateTotalOnions=function(e){this.#n.textContent=e.totalOnions};updateTotClicks=function(e){this.#o.textContent=e.numClicks};updateOnions=function(e){this.#s.textContent=e.onions,this.updateTotalOnions(e)};updateAll=function(e){this.updateOnions(e),this.updateTotClicks(e),this.updateTotalOnions(e),this.updatePerSecond(e),this.updatePerClick(e)};addHandlerChop(e){this.#a.addEventListener("click",e)}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"14CJs":[function(e,t,n){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(n);var o=e("../helpers.js");n.default=new class{#r=document.querySelector("#click-strength");#c=document.querySelector("#autoclick");#i=document.querySelector("#auto-up");#u=document.querySelector("#managers");#l=document.querySelectorAll(".upgrades-pane");#d=document.querySelector(".upgrades");#p=document.querySelector("#upgrade-select");#f=document.querySelectorAll(".upgrade-tab-btn");constructor(){this.#p.addEventListener("click",this.tabNav.bind(this))}tabNav(e){e.target.classList.contains("upgrade-tab-btn")&&this.#g(e.target)}insertTable(e,t){e.querySelector("tbody").insertAdjacentHTML("beforeend",t)}generateAllTabsMarkup(e){this.insertTable(this.#r,this.#h(e.clickUpgObj,"click-strength-upgrade")),this.insertTable(this.#c,this.#h(e.autoclickObj,"autoclicker")),this.insertTable(this.#i,this.#h(e.autoclickUpObj,"autoclickUp")),this.insertTable(this.#u,this.#y(e.managersObj))}#h(e,t){let n="";for(const[s,a]of Object.entries(e))n+=`\n        <tr class="${t} upgrade" id="${s}">\n          <th scope="row" class="upg-name">${a.name}</th>\n          <td>${a.description}</td>\n          <td class="count">${a.count}</td>\n          <td class="cost">${o.displayNum(a.cost)}</td>\n          <td><button class="buy">Buy</button></td>\n        </tr>\n        `;return n}#y(e){let t="";for(const[n,s]of Object.entries(e))t+=`\n        <tr class="manager upgrade" id="${n}">\n          <th class="upg-name">${s.name}</th>\n          <td>${s.description}</td>\n          <td class="owned">${s.owned?"Yes":"No"}</td>\n          <td class="cost">${o.displayNum(s.cost)}</td>\n          <td><button class="buy">Buy</button></td>\n          <td>\n            <label class="switch">\n              <input type="checkbox" class="toggleOnOff" disabled="disabled">\n              <span class="slider"></span>\n            </label>\n          </td>\n        </tr>`;return t}#g=function(e){this.#l.forEach((e=>e.classList.add("hidden"))),this.#f.forEach((e=>e.classList.remove("selected"))),e.classList.add("selected"),document.querySelector(`.upgrades-pane--${e.dataset.pane}`).classList.remove("hidden")};addHandlerBuy(e){this.#d.addEventListener("click",(function(t){t.target.classList.contains("buy")&&e(t.target)}))}addHandlerToggleManager(e){this.#u.addEventListener("change",(function(t){t.target.classList.contains("toggleOnOff")&&e(t.target)}))}updateCostCount(e,t){e.count++,t.querySelector(".count").textContent=`${e.count}`,e.cost=Math.floor(1.2*e.cost),t.querySelector(".cost").textContent=`${o.displayNum(e.cost)}`}}},{"../helpers.js":"vWopX","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}]},["fIf54"],"fIf54","parcelRequireebe7");
//# sourceMappingURL=index.a5a4bf4c.js.map
